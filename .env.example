# ============================================================================
# FastAPI Template - Environment Configuration Example
# ============================================================================
# Copy this file to .env and update the values for your environment.
# - Settings with default values are commented out but show their defaults
# - Uncomment and modify any setting you want to change
# - REQUIRED settings must be set for production deployments
#
# IMPORTANT: Variable Naming Convention
# ============================================================================
# This file uses flat variable names (e.g., LOG_LEVEL, POSTGRES_HOST) for
# simplicity. These are mapped to nested configuration internally:
#   - Flat:   LOG_LEVEL         → Used in this .env file
#   - Nested: LOG__LEVEL        → Used when setting env vars directly
#   - Code:   settings.log.level → Used in Python code
#
# The docker-compose.yml handles the mapping from flat to nested format.
# If you set environment variables directly (not via .env), use the nested
# format with double underscores: LOG__LEVEL, DATABASE__SERVER, etc.

# ============================================================================
# PostgreSQL Database Configuration
# ============================================================================
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-password
POSTGRES_DB=fastapi_template

# ============================================================================
# Application Configuration
# ============================================================================
# API_PATH=/api/v1
# VERSION=1.0.0
# APPLICATION_NAME=FastAPI Template
# ENVIRONMENT=development

# CORS Origins (JSON array format)
# CORS_ORIGINS=["*"]

# ============================================================================
# Super User / Admin Configuration
# ============================================================================
# Initial superuser created during application startup
SUPER_USER_NAME=admin
SUPER_USER_EMAIL=admin@example.com
SUPER_USER_PASSWORD=admin

# ============================================================================
# JWT Authentication Configuration
# ============================================================================
# REQUIRED for production: Must be at least 32 characters long
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# If not set, a random key is generated (not suitable for production!)
JWT_SECRET_KEY=your-secret-key-at-least-32-characters-long-change-this

JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Rate limiting for JWT endpoints (format: "count/period" e.g., "5/minute", "100/hour")
# JWT_LOGIN_RATE_LIMIT=5/minute
# JWT_REFRESH_RATE_LIMIT=10/minute

# ============================================================================
# API Key Authentication Configuration
# ============================================================================
# API_KEY_ENABLED=false
# API_KEY_MAX_PER_USER=5
# API_KEY_DEFAULT_EXPIRATION_DAYS=30
# API_KEY_HEADER_NAME=X-API-Key

# Rate limiting for API key management endpoints
# API_KEY_CREATE_RATE_LIMIT=5/minute
# API_KEY_DELETE_RATE_LIMIT=10/minute

# ============================================================================
# Authentication Feature Toggles
# ============================================================================
# Master switch for authentication (when false, no auth routes registered)
AUTH_ENABLED=true
AUTH_JWT_ENABLED=true
AUTH_API_KEY_ENABLED=false

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_LEVEL=INFO

# Path to log file (enables JSON file logging with rotation)
# If not set, only console logging is used
# LOG_FILE_PATH=logs/app.log

# Disable colored console output (colors are auto-detected if false)
# LOG_DISABLE_COLORS=false
