# ============================================================================
# FastAPI Template - Environment Configuration Example
# ============================================================================
# Copy this file to .env and update the values for your environment.
# - Settings with default values are commented out but show their defaults
# - Uncomment and modify any setting you want to change
# - REQUIRED settings must be set for production deployments
#
# This file uses Pydantic-native nested variable names with double underscores
# (e.g., POSTGRES__SERVER, AUTH__JWT__SECRET_KEY). These map directly to the
# nested configuration structure in code (e.g., settings.postgres.server).

# ============================================================================
# PostgreSQL Database Configuration
# ============================================================================
POSTGRES__SERVER=db
POSTGRES__PORT=5432
POSTGRES__USER=postgres
POSTGRES__PASSWORD=your-secure-password
POSTGRES__DB=fastapi_template

# ============================================================================
# Application Configuration
# ============================================================================
# API_PATH=/api/v1
# VERSION=1.0.0
# APPLICATION_NAME=FastAPI Template
# ENVIRONMENT=development

# CORS Origins (JSON array format)
# CORS_ORIGINS=["*"]

# ============================================================================
# Super User / Admin Configuration
# ============================================================================
# Initial superuser created during application startup
SUPER_USER__NAME=admin
SUPER_USER__EMAIL=admin@example.com
SUPER_USER__PASSWORD=admin

# ============================================================================
# JWT Authentication Configuration
# ============================================================================
# REQUIRED for production: Must be at least 32 characters long
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# If not set, a random key is generated (not suitable for production!)
AUTH__JWT__SECRET_KEY=your-secret-key-at-least-32-characters-long-change-this

AUTH__JWT__ALGORITHM=HS256
AUTH__JWT__ACCESS_TOKEN_EXPIRE_MINUTES=15
AUTH__JWT__REFRESH_TOKEN_EXPIRE_DAYS=7

# Rate limiting for JWT endpoints (format: "count/period" e.g., "5/minute", "100/hour")
# AUTH__JWT__LOGIN_RATE_LIMIT=5/minute
# AUTH__JWT__REFRESH_RATE_LIMIT=10/minute

# ============================================================================
# API Key Authentication Configuration
# ============================================================================
# AUTH__API_KEY__ENABLED=false
# AUTH__API_KEY__MAX_PER_USER=5
# AUTH__API_KEY__DEFAULT_EXPIRATION_DAYS=30
# AUTH__API_KEY__HEADER_NAME=X-API-Key

# Rate limiting for API key management endpoints
# AUTH__API_KEY__CREATE_RATE_LIMIT=5/minute
# AUTH__API_KEY__DELETE_RATE_LIMIT=10/minute

# ============================================================================
# Authentication Feature Toggles
# ============================================================================
# Master switch for authentication (when false, no auth routes registered)
AUTH__ENABLED=true
AUTH__JWT__ENABLED=true
AUTH__API_KEY__ENABLED=false

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG__LEVEL=INFO

# Path to log file (enables JSON file logging with rotation)
# If not set, only console logging is used
# LOG__FILE_PATH=logs/app.log

# Disable colored console output (colors are auto-detected if false)
# LOG__DISABLE_COLORS=false
